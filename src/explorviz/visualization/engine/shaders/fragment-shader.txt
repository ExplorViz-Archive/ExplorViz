precision mediump float;

uniform float uUseTexture;
uniform sampler2D tex;

varying mediump vec2 vTextureCoord;
varying lowp vec4 vColor;
varying lowp vec3 vLighting;

void main() {
    lowp vec4 texelColor = uUseTexture * texture2D(tex, vTextureCoord) + (1.0 - uUseTexture) * vColor;
    
    gl_FragColor = vec4(texelColor.rgb * vLighting, texelColor.a);
}