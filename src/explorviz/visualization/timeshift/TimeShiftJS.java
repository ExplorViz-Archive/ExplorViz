package explorviz.visualization.timeshift;

import java.util.Map;
import java.util.Map.Entry;

import com.google.gwt.core.client.JavaScriptObject;
import com.google.gwt.json.client.JSONObject;
import com.google.gwt.json.client.JSONString;

public class TimeShiftJS {
	public static native void init() /*-{

		Date.prototype.ddhhmmss = function() {
			var weekday = new Array(7);
			weekday[0] = "Su";
			weekday[1] = "Mo";
			weekday[2] = "Tu";
			weekday[3] = "We";
			weekday[4] = "Th";
			weekday[5] = "Fr";
			weekday[6] = "Sa";
			var n = weekday[this.getDay()];

			var hh = this.getHours().toString();
			var mm = this.getMinutes().toString();
			var ss = this.getSeconds().toString();

			return n + " " + (hh[1] ? hh : "0" + hh[0]) + ":"
					+ (mm[1] ? mm : "0" + mm[0]) + ":"
					+ (ss[1] ? ss : "0" + ss[0]);
		};

		var sampleData = [ [ 1463499327511, 10 ], [ 1463499328511, 6 ],
				[ 1463499329511, 4 ], [ 1463499330511, 8 ],
				[ 1463499331511, 8 ], [ 1463499332511, 8 ],
				[ 1463499333511, 5 ], [ 1463499334511, 4 ],
				[ 1463499335511, 5 ], [ 1463499336511, 4 ],
				[ 1463499337511, 8 ], [ 1463499338511, 5 ],
				[ 1463499339511, 7 ], [ 1463499340511, 2 ],
				[ 1463499341511, 7 ], [ 1463499342511, 5 ],
				[ 1463499343511, 5 ], [ 1463499344511, 10 ],
				[ 1463499345511, 9 ], [ 1463499346511, 2 ],
				[ 1463499347511, 9 ], [ 1463499348511, 7 ],
				[ 1463499349511, 4 ], [ 1463499350511, 4 ],
				[ 1463499351511, 10 ], [ 1463499352511, 4 ],
				[ 1463499353511, 1 ], [ 1463499354511, 3 ],
				[ 1463499355511, 6 ], [ 1463499356511, 6 ],
				[ 1463499357511, 5 ], [ 1463499358511, 6 ],
				[ 1463499359511, 10 ], [ 1463499360511, 2 ],
				[ 1463499361511, 4 ], [ 1463499362511, 9 ],
				[ 1463499363511, 1 ], [ 1463499364511, 3 ],
				[ 1463499365511, 8 ], [ 1463499366511, 6 ],
				[ 1463499367511, 5 ], [ 1463499368511, 7 ],
				[ 1463499369511, 10 ], [ 1463499370511, 5 ],
				[ 1463499371511, 4 ], [ 1463499372511, 7 ],
				[ 1463499373511, 2 ], [ 1463499374511, 10 ],
				[ 1463499375511, 1 ], [ 1463499376511, 1 ],
				[ 1463499377511, 6 ], [ 1463499378511, 2 ],
				[ 1463499379511, 1 ], [ 1463499380511, 7 ],
				[ 1463499381511, 1 ], [ 1463499382511, 6 ],
				[ 1463499383511, 7 ], [ 1463499384511, 5 ],
				[ 1463499385511, 6 ], [ 1463499386511, 4 ],
				[ 1463499387511, 8 ], [ 1463499388511, 10 ],
				[ 1463499389511, 7 ], [ 1463499390511, 2 ],
				[ 1463499391511, 2 ], [ 1463499392511, 8 ],
				[ 1463499393511, 9 ], [ 1463499394511, 2 ],
				[ 1463499395511, 9 ], [ 1463499396511, 8 ],
				[ 1463499397511, 2 ], [ 1463499398511, 9 ],
				[ 1463499399511, 8 ], [ 1463499400511, 3 ],
				[ 1463499401511, 1 ], [ 1463499402511, 4 ],
				[ 1463499403511, 5 ], [ 1463499404511, 3 ],
				[ 1463499405511, 2 ], [ 1463499406511, 3 ],
				[ 1463499407511, 10 ], [ 1463499408511, 8 ],
				[ 1463499409511, 6 ], [ 1463499410511, 2 ],
				[ 1463499411511, 1 ], [ 1463499412511, 2 ],
				[ 1463499413511, 4 ], [ 1463499414511, 10 ],
				[ 1463499415511, 4 ], [ 1463499416511, 3 ],
				[ 1463499417511, 5 ], [ 1463499418511, 7 ],
				[ 1463499419511, 6 ], [ 1463499420511, 3 ],
				[ 1463499421511, 3 ], [ 1463499422511, 1 ],
				[ 1463499423511, 1 ], [ 1463499424511, 3 ],
				[ 1463499425511, 2 ], [ 1463499426511, 6 ],
				[ 1463499427511, 9 ], [ 1463499428511, 2 ],
				[ 1463499429511, 9 ], [ 1463499430511, 2 ],
				[ 1463499431511, 3 ], [ 1463499432511, 6 ],
				[ 1463499433511, 7 ], [ 1463499434511, 10 ],
				[ 1463499435511, 1 ], [ 1463499436511, 4 ],
				[ 1463499437511, 9 ], [ 1463499438511, 10 ],
				[ 1463499439511, 5 ], [ 1463499440511, 9 ],
				[ 1463499441511, 10 ], [ 1463499442511, 1 ],
				[ 1463499443511, 8 ], [ 1463499444511, 5 ],
				[ 1463499445511, 1 ], [ 1463499446511, 4 ],
				[ 1463499447511, 4 ], [ 1463499448511, 1 ],
				[ 1463499449511, 1 ], [ 1463499450511, 2 ],
				[ 1463499451511, 1 ], [ 1463499452511, 8 ],
				[ 1463499453511, 8 ], [ 1463499454511, 4 ],
				[ 1463499455511, 5 ], [ 1463499456511, 6 ],
				[ 1463499457511, 1 ], [ 1463499458511, 10 ],
				[ 1463499459511, 8 ], [ 1463499460511, 8 ],
				[ 1463499461511, 7 ], [ 1463499462511, 8 ],
				[ 1463499463511, 3 ], [ 1463499464511, 5 ],
				[ 1463499465511, 7 ], [ 1463499466511, 5 ],
				[ 1463499467511, 8 ], [ 1463499468511, 6 ],
				[ 1463499469511, 2 ], [ 1463499470511, 6 ],
				[ 1463499471511, 5 ], [ 1463499472511, 3 ],
				[ 1463499473511, 4 ], [ 1463499474511, 4 ],
				[ 1463499475511, 8 ], [ 1463499476511, 7 ],
				[ 1463499477511, 2 ], [ 1463499478511, 10 ],
				[ 1463499479511, 2 ], [ 1463499480511, 7 ],
				[ 1463499481511, 6 ], [ 1463499482511, 6 ],
				[ 1463499483511, 7 ], [ 1463499484511, 7 ],
				[ 1463499485511, 2 ], [ 1463499486511, 2 ],
				[ 1463499487511, 2 ], [ 1463499488511, 1 ],
				[ 1463499489511, 5 ], [ 1463499490511, 6 ],
				[ 1463499491511, 5 ], [ 1463499492511, 1 ],
				[ 1463499493511, 2 ], [ 1463499494511, 9 ],
				[ 1463499495511, 3 ], [ 1463499496511, 2 ],
				[ 1463499497511, 7 ], [ 1463499498511, 7 ],
				[ 1463499499511, 4 ], [ 1463499500511, 4 ],
				[ 1463499501511, 6 ], [ 1463499502511, 7 ],
				[ 1463499503511, 6 ], [ 1463499504511, 8 ],
				[ 1463499505511, 6 ], [ 1463499506511, 6 ],
				[ 1463499507511, 7 ], [ 1463499508511, 7 ],
				[ 1463499509511, 8 ], [ 1463499510511, 8 ],
				[ 1463499511511, 10 ], [ 1463499512511, 2 ],
				[ 1463499513511, 1 ], [ 1463499514511, 1 ],
				[ 1463499515511, 3 ], [ 1463499516511, 6 ],
				[ 1463499517511, 7 ], [ 1463499518511, 6 ],
				[ 1463499519511, 2 ], [ 1463499520511, 5 ],
				[ 1463499521511, 6 ], [ 1463499522511, 7 ],
				[ 1463499523511, 8 ], [ 1463499524511, 5 ],
				[ 1463499525511, 7 ], [ 1463499526511, 6 ],
				[ 1463499527511, 3 ], [ 1463499528511, 5 ],
				[ 1463499529511, 9 ], [ 1463499530511, 2 ],
				[ 1463499531511, 1 ], [ 1463499532511, 9 ],
				[ 1463499533511, 3 ], [ 1463499534511, 1 ],
				[ 1463499535511, 3 ], [ 1463499536511, 2 ],
				[ 1463499537511, 4 ], [ 1463499538511, 3 ],
				[ 1463499539511, 8 ], [ 1463499540511, 6 ],
				[ 1463499541511, 9 ], [ 1463499542511, 10 ],
				[ 1463499543511, 8 ], [ 1463499544511, 8 ],
				[ 1463499545511, 6 ], [ 1463499546511, 9 ],
				[ 1463499547511, 10 ], [ 1463499548511, 7 ],
				[ 1463499549511, 5 ], [ 1463499550511, 5 ],
				[ 1463499551511, 6 ], [ 1463499552511, 2 ],
				[ 1463499553511, 8 ], [ 1463499554511, 7 ],
				[ 1463499555511, 9 ], [ 1463499556511, 3 ],
				[ 1463499557511, 10 ], [ 1463499558511, 8 ],
				[ 1463499559511, 9 ], [ 1463499560511, 6 ],
				[ 1463499561511, 10 ], [ 1463499562511, 6 ],
				[ 1463499563511, 1 ], [ 1463499564511, 7 ],
				[ 1463499565511, 3 ], [ 1463499566511, 8 ],
				[ 1463499567511, 9 ], [ 1463499568511, 8 ],
				[ 1463499569511, 8 ], [ 1463499570511, 1 ],
				[ 1463499571511, 1 ], [ 1463499572511, 10 ],
				[ 1463499573511, 2 ], [ 1463499574511, 4 ],
				[ 1463499575511, 9 ], [ 1463499576511, 6 ],
				[ 1463499577511, 9 ], [ 1463499578511, 5 ],
				[ 1463499579511, 1 ], [ 1463499580511, 10 ],
				[ 1463499581511, 9 ], [ 1463499582511, 3 ],
				[ 1463499583511, 9 ], [ 1463499584511, 8 ],
				[ 1463499585511, 4 ], [ 1463499586511, 3 ],
				[ 1463499587511, 2 ], [ 1463499588511, 1 ],
				[ 1463499589511, 3 ], [ 1463499590511, 7 ],
				[ 1463499591511, 8 ], [ 1463499592511, 8 ],
				[ 1463499593511, 1 ], [ 1463499594511, 4 ],
				[ 1463499595511, 4 ], [ 1463499596511, 4 ],
				[ 1463499597511, 4 ], [ 1463499598511, 10 ],
				[ 1463499599511, 6 ], [ 1463499600511, 9 ],
				[ 1463499601511, 8 ], [ 1463499602511, 8 ],
				[ 1463499603511, 8 ], [ 1463499604511, 10 ],
				[ 1463499605511, 2 ], [ 1463499606511, 3 ],
				[ 1463499607511, 10 ], [ 1463499608511, 7 ],
				[ 1463499609511, 6 ], [ 1463499610511, 3 ],
				[ 1463499611511, 7 ], [ 1463499612511, 6 ],
				[ 1463499613511, 5 ], [ 1463499614511, 3 ],
				[ 1463499615511, 3 ], [ 1463499616511, 6 ],
				[ 1463499617511, 9 ], [ 1463499618511, 6 ],
				[ 1463499619511, 8 ], [ 1463499620511, 1 ],
				[ 1463499621511, 1 ], [ 1463499622511, 1 ],
				[ 1463499623511, 2 ], [ 1463499624511, 1 ],
				[ 1463499625511, 6 ], [ 1463499626511, 8 ],
				[ 1463499627511, 2 ], [ 1463499628511, 8 ],
				[ 1463499629511, 1 ], [ 1463499630511, 1 ],
				[ 1463499631511, 9 ], [ 1463499632511, 4 ],
				[ 1463499633511, 9 ], [ 1463499634511, 1 ],
				[ 1463499635511, 5 ], [ 1463499636511, 7 ],
				[ 1463499637511, 7 ], [ 1463499638511, 1 ],
				[ 1463499639511, 1 ], [ 1463499640511, 3 ],
				[ 1463499641511, 2 ], [ 1463499642511, 4 ],
				[ 1463499643511, 4 ], [ 1463499644511, 8 ],
				[ 1463499645511, 4 ], [ 1463499646511, 8 ],
				[ 1463499647511, 3 ], [ 1463499648511, 6 ],
				[ 1463499649511, 5 ], [ 1463499650511, 5 ],
				[ 1463499651511, 10 ], [ 1463499652511, 2 ],
				[ 1463499653511, 3 ], [ 1463499654511, 9 ],
				[ 1463499655511, 6 ], [ 1463499656511, 8 ],
				[ 1463499657511, 1 ], [ 1463499658511, 8 ],
				[ 1463499659511, 10 ], [ 1463499660511, 10 ],
				[ 1463499661511, 7 ], [ 1463499662511, 4 ],
				[ 1463499663511, 4 ], [ 1463499664511, 1 ],
				[ 1463499665511, 8 ], [ 1463499666511, 8 ],
				[ 1463499667511, 6 ], [ 1463499668511, 1 ],
				[ 1463499669511, 8 ], [ 1463499670511, 3 ],
				[ 1463499671511, 6 ], [ 1463499672511, 3 ],
				[ 1463499673511, 10 ], [ 1463499674511, 10 ],
				[ 1463499675511, 6 ], [ 1463499676511, 6 ],
				[ 1463499677511, 6 ], [ 1463499678511, 6 ],
				[ 1463499679511, 8 ], [ 1463499680511, 6 ],
				[ 1463499681511, 2 ], [ 1463499682511, 7 ],
				[ 1463499683511, 2 ], [ 1463499684511, 2 ],
				[ 1463499685511, 7 ], [ 1463499686511, 7 ],
				[ 1463499687511, 5 ], [ 1463499688511, 1 ],
				[ 1463499689511, 3 ], [ 1463499690511, 1 ],
				[ 1463499691511, 2 ], [ 1463499692511, 4 ],
				[ 1463499693511, 8 ], [ 1463499694511, 3 ],
				[ 1463499695511, 2 ], [ 1463499696511, 7 ],
				[ 1463499697511, 7 ], [ 1463499698511, 8 ],
				[ 1463499699511, 8 ], [ 1463499700511, 9 ],
				[ 1463499701511, 5 ], [ 1463499702511, 1 ],
				[ 1463499703511, 3 ], [ 1463499704511, 9 ],
				[ 1463499705511, 7 ], [ 1463499706511, 3 ],
				[ 1463499707511, 3 ], [ 1463499708511, 2 ],
				[ 1463499709511, 6 ], [ 1463499710511, 9 ],
				[ 1463499711511, 1 ], [ 1463499712511, 6 ],
				[ 1463499713511, 10 ], [ 1463499714511, 7 ],
				[ 1463499715511, 4 ], [ 1463499716511, 8 ],
				[ 1463499717511, 9 ], [ 1463499718511, 9 ],
				[ 1463499719511, 1 ], [ 1463499720511, 6 ],
				[ 1463499721511, 1 ], [ 1463499722511, 10 ],
				[ 1463499723511, 10 ], [ 1463499724511, 8 ],
				[ 1463499725511, 2 ], [ 1463499726511, 2 ],
				[ 1463499727511, 1 ], [ 1463499728511, 2 ],
				[ 1463499729511, 7 ], [ 1463499730511, 9 ],
				[ 1463499731511, 8 ], [ 1463499732511, 7 ],
				[ 1463499733511, 9 ], [ 1463499734511, 10 ],
				[ 1463499735511, 4 ], [ 1463499736511, 3 ],
				[ 1463499737511, 2 ], [ 1463499738511, 8 ],
				[ 1463499739511, 2 ], [ 1463499740511, 5 ],
				[ 1463499741511, 4 ], [ 1463499742511, 2 ],
				[ 1463499743511, 8 ], [ 1463499744511, 9 ],
				[ 1463499745511, 10 ], [ 1463499746511, 8 ],
				[ 1463499747511, 8 ], [ 1463499748511, 7 ],
				[ 1463499749511, 4 ], [ 1463499750511, 5 ],
				[ 1463499751511, 9 ], [ 1463499752511, 6 ],
				[ 1463499753511, 9 ], [ 1463499754511, 9 ],
				[ 1463499755511, 6 ], [ 1463499756511, 9 ],
				[ 1463499757511, 6 ], [ 1463499758511, 8 ],
				[ 1463499759511, 1 ], [ 1463499760511, 9 ],
				[ 1463499761511, 2 ], [ 1463499762511, 3 ],
				[ 1463499763511, 7 ], [ 1463499764511, 6 ],
				[ 1463499765511, 7 ], [ 1463499766511, 6 ],
				[ 1463499767511, 9 ], [ 1463499768511, 9 ],
				[ 1463499769511, 7 ], [ 1463499770511, 1 ],
				[ 1463499771511, 3 ], [ 1463499772511, 7 ],
				[ 1463499773511, 1 ], [ 1463499774511, 2 ],
				[ 1463499775511, 7 ], [ 1463499776511, 4 ],
				[ 1463499777511, 4 ], [ 1463499778511, 10 ],
				[ 1463499779511, 8 ], [ 1463499780511, 6 ],
				[ 1463499781511, 8 ], [ 1463499782511, 3 ],
				[ 1463499783511, 6 ], [ 1463499784511, 9 ],
				[ 1463499785511, 5 ], [ 1463499786511, 9 ],
				[ 1463499787511, 7 ], [ 1463499788511, 9 ],
				[ 1463499789511, 5 ], [ 1463499790511, 10 ],
				[ 1463499791511, 6 ], [ 1463499792511, 3 ],
				[ 1463499793511, 2 ], [ 1463499794511, 3 ],
				[ 1463499795511, 6 ], [ 1463499796511, 5 ],
				[ 1463499797511, 3 ], [ 1463499798511, 3 ],
				[ 1463499799511, 6 ], [ 1463499800511, 2 ],
				[ 1463499801511, 2 ], [ 1463499802511, 1 ],
				[ 1463499803511, 9 ], [ 1463499804511, 8 ],
				[ 1463499805511, 4 ], [ 1463499806511, 9 ],
				[ 1463499807511, 10 ], [ 1463499808511, 10 ],
				[ 1463499809511, 4 ], [ 1463499810511, 1 ],
				[ 1463499811511, 2 ], [ 1463499812511, 6 ],
				[ 1463499813511, 7 ], [ 1463499814511, 3 ],
				[ 1463499815511, 9 ], [ 1463499816511, 4 ],
				[ 1463499817511, 2 ], [ 1463499818511, 2 ],
				[ 1463499819511, 6 ], [ 1463499820511, 2 ],
				[ 1463499821511, 9 ], [ 1463499822511, 2 ],
				[ 1463499823511, 3 ], [ 1463499824511, 6 ],
				[ 1463499825511, 10 ], [ 1463499826511, 10 ],
				[ 1463499827511, 3 ], [ 1463499828511, 2 ],
				[ 1463499829511, 9 ], [ 1463499830511, 10 ],
				[ 1463499831511, 4 ], [ 1463499832511, 9 ],
				[ 1463499833511, 1 ], [ 1463499834511, 1 ],
				[ 1463499835511, 8 ], [ 1463499836511, 7 ],
				[ 1463499837511, 8 ], [ 1463499838511, 5 ],
				[ 1463499839511, 10 ], [ 1463499840511, 5 ],
				[ 1463499841511, 8 ], [ 1463499842511, 5 ],
				[ 1463499843511, 1 ], [ 1463499844511, 8 ],
				[ 1463499845511, 10 ], [ 1463499846511, 3 ],
				[ 1463499847511, 2 ], [ 1463499848511, 6 ],
				[ 1463499849511, 7 ], [ 1463499850511, 5 ],
				[ 1463499851511, 6 ], [ 1463499852511, 6 ],
				[ 1463499853511, 4 ], [ 1463499854511, 9 ],
				[ 1463499855511, 10 ], [ 1463499856511, 3 ],
				[ 1463499857511, 9 ], [ 1463499858511, 4 ],
				[ 1463499859511, 7 ], [ 1463499860511, 6 ],
				[ 1463499861511, 8 ], [ 1463499862511, 3 ],
				[ 1463499863511, 8 ], [ 1463499864511, 7 ],
				[ 1463499865511, 8 ], [ 1463499866511, 10 ],
				[ 1463499867511, 8 ], [ 1463499868511, 2 ],
				[ 1463499869511, 1 ], [ 1463499870511, 7 ],
				[ 1463499871511, 10 ], [ 1463499872511, 3 ],
				[ 1463499873511, 7 ], [ 1463499874511, 8 ],
				[ 1463499875511, 10 ], [ 1463499876511, 1 ],
				[ 1463499877511, 9 ], [ 1463499878511, 1 ],
				[ 1463499879511, 10 ], [ 1463499880511, 4 ],
				[ 1463499881511, 6 ], [ 1463499882511, 4 ],
				[ 1463499883511, 6 ], [ 1463499884511, 10 ],
				[ 1463499885511, 3 ], [ 1463499886511, 10 ],
				[ 1463499887511, 10 ], [ 1463499888511, 9 ],
				[ 1463499889511, 7 ], [ 1463499890511, 3 ],
				[ 1463499891511, 2 ], [ 1463499892511, 6 ],
				[ 1463499893511, 4 ], [ 1463499894511, 4 ],
				[ 1463499895511, 1 ], [ 1463499896511, 6 ],
				[ 1463499897511, 7 ], [ 1463499898511, 6 ],
				[ 1463499899511, 3 ], [ 1463499900511, 2 ],
				[ 1463499901511, 10 ], [ 1463499902511, 5 ],
				[ 1463499903511, 10 ], [ 1463499904511, 8 ],
				[ 1463499905511, 5 ], [ 1463499906511, 4 ],
				[ 1463499907511, 8 ], [ 1463499908511, 2 ],
				[ 1463499909511, 8 ], [ 1463499910511, 5 ],
				[ 1463499911511, 3 ], [ 1463499912511, 7 ],
				[ 1463499913511, 5 ], [ 1463499914511, 7 ],
				[ 1463499915511, 3 ], [ 1463499916511, 6 ],
				[ 1463499917511, 6 ], [ 1463499918511, 9 ],
				[ 1463499919511, 6 ], [ 1463499920511, 7 ],
				[ 1463499921511, 2 ], [ 1463499922511, 3 ],
				[ 1463499923511, 2 ], [ 1463499924511, 9 ],
				[ 1463499925511, 6 ], [ 1463499926511, 6 ],
				[ 1463499927511, 4 ], [ 1463499928511, 6 ],
				[ 1463499929511, 2 ], [ 1463499930511, 1 ],
				[ 1463499931511, 8 ], [ 1463499932511, 3 ],
				[ 1463499933511, 2 ], [ 1463499934511, 3 ],
				[ 1463499935511, 3 ], [ 1463499936511, 9 ],
				[ 1463499937511, 7 ], [ 1463499938511, 4 ],
				[ 1463499939511, 4 ], [ 1463499940511, 7 ],
				[ 1463499941511, 3 ], [ 1463499942511, 1 ],
				[ 1463499943511, 6 ], [ 1463499944511, 3 ],
				[ 1463499945511, 3 ], [ 1463499946511, 1 ],
				[ 1463499947511, 9 ], [ 1463499948511, 1 ],
				[ 1463499949511, 6 ], [ 1463499950511, 2 ],
				[ 1463499951511, 3 ], [ 1463499952511, 1 ],
				[ 1463499953511, 7 ], [ 1463499954511, 10 ],
				[ 1463499955511, 10 ], [ 1463499956511, 10 ],
				[ 1463499957511, 5 ], [ 1463499958511, 2 ],
				[ 1463499959511, 4 ], [ 1463499960511, 2 ],
				[ 1463499961511, 5 ], [ 1463499962511, 7 ],
				[ 1463499963511, 8 ], [ 1463499964511, 4 ],
				[ 1463499965511, 5 ], [ 1463499966511, 8 ],
				[ 1463499967511, 10 ], [ 1463499968511, 7 ],
				[ 1463499969511, 2 ], [ 1463499970511, 10 ],
				[ 1463499971511, 7 ], [ 1463499972511, 6 ],
				[ 1463499973511, 4 ], [ 1463499974511, 7 ],
				[ 1463499975511, 1 ], [ 1463499976511, 9 ],
				[ 1463499977511, 5 ], [ 1463499978511, 9 ],
				[ 1463499979511, 9 ], [ 1463499980511, 4 ],
				[ 1463499981511, 2 ], [ 1463499982511, 8 ],
				[ 1463499983511, 7 ], [ 1463499984511, 1 ],
				[ 1463499985511, 10 ], [ 1463499986511, 7 ],
				[ 1463499987511, 4 ], [ 1463499988511, 10 ],
				[ 1463499989511, 8 ], [ 1463499990511, 8 ],
				[ 1463499991511, 8 ], [ 1463499992511, 3 ],
				[ 1463499993511, 6 ], [ 1463499994511, 8 ],
				[ 1463499995511, 9 ], [ 1463499996511, 10 ],
				[ 1463499997511, 3 ], [ 1463499998511, 1 ],
				[ 1463499999511, 8 ], [ 1463500000511, 4 ],
				[ 1463500001511, 2 ], [ 1463500002511, 2 ],
				[ 1463500003511, 5 ], [ 1463500004511, 6 ],
				[ 1463500005511, 9 ], [ 1463500006511, 4 ],
				[ 1463500007511, 1 ], [ 1463500008511, 3 ],
				[ 1463500009511, 4 ], [ 1463500010511, 8 ],
				[ 1463500011511, 7 ], [ 1463500012511, 1 ],
				[ 1463500013511, 6 ], [ 1463500014511, 10 ],
				[ 1463500015511, 9 ], [ 1463500016511, 1 ],
				[ 1463500017511, 10 ], [ 1463500018511, 2 ],
				[ 1463500019511, 3 ], [ 1463500020511, 9 ],
				[ 1463500021511, 10 ], [ 1463500022511, 1 ],
				[ 1463500023511, 1 ], [ 1463500024511, 4 ],
				[ 1463500025511, 5 ], [ 1463500026511, 10 ],
				[ 1463500027511, 1 ], [ 1463500028511, 5 ],
				[ 1463500029511, 1 ], [ 1463500030511, 2 ],
				[ 1463500031511, 6 ], [ 1463500032511, 8 ],
				[ 1463500033511, 7 ], [ 1463500034511, 8 ],
				[ 1463500035511, 5 ], [ 1463500036511, 8 ],
				[ 1463500037511, 2 ], [ 1463500038511, 10 ],
				[ 1463500039511, 7 ], [ 1463500040511, 5 ],
				[ 1463500041511, 10 ], [ 1463500042511, 3 ],
				[ 1463500043511, 10 ], [ 1463500044511, 10 ],
				[ 1463500045511, 8 ], [ 1463500046511, 7 ],
				[ 1463500047511, 3 ], [ 1463500048511, 1 ],
				[ 1463500049511, 9 ], [ 1463500050511, 6 ],
				[ 1463500051511, 5 ], [ 1463500052511, 6 ],
				[ 1463500053511, 2 ], [ 1463500054511, 6 ],
				[ 1463500055511, 4 ], [ 1463500056511, 4 ],
				[ 1463500057511, 5 ], [ 1463500058511, 2 ],
				[ 1463500059511, 3 ], [ 1463500060511, 2 ],
				[ 1463500061511, 7 ], [ 1463500062511, 3 ],
				[ 1463500063511, 10 ], [ 1463500064511, 4 ],
				[ 1463500065511, 9 ], [ 1463500066511, 6 ],
				[ 1463500067511, 5 ], [ 1463500068511, 6 ],
				[ 1463500069511, 9 ], [ 1463500070511, 10 ],
				[ 1463500071511, 7 ], [ 1463500072511, 5 ],
				[ 1463500073511, 3 ], [ 1463500074511, 6 ],
				[ 1463500075511, 7 ], [ 1463500076511, 6 ],
				[ 1463500077511, 8 ], [ 1463500078511, 6 ],
				[ 1463500079511, 10 ], [ 1463500080511, 9 ],
				[ 1463500081511, 10 ], [ 1463500082511, 4 ],
				[ 1463500083511, 10 ], [ 1463500084511, 5 ],
				[ 1463500085511, 10 ], [ 1463500086511, 1 ],
				[ 1463500087511, 7 ], [ 1463500088511, 3 ],
				[ 1463500089511, 3 ], [ 1463500090511, 4 ],
				[ 1463500091511, 10 ], [ 1463500092511, 2 ],
				[ 1463500093511, 5 ], [ 1463500094511, 6 ],
				[ 1463500095511, 4 ], [ 1463500096511, 2 ],
				[ 1463500097511, 3 ], [ 1463500098511, 1 ],
				[ 1463500099511, 6 ], [ 1463500100511, 10 ],
				[ 1463500101511, 7 ], [ 1463500102511, 3 ],
				[ 1463500103511, 5 ], [ 1463500104511, 10 ],
				[ 1463500105511, 8 ], [ 1463500106511, 4 ],
				[ 1463500107511, 1 ], [ 1463500108511, 3 ],
				[ 1463500109511, 8 ], [ 1463500110511, 5 ],
				[ 1463500111511, 3 ], [ 1463500112511, 8 ],
				[ 1463500113511, 5 ], [ 1463500114511, 3 ],
				[ 1463500115511, 5 ], [ 1463500116511, 8 ],
				[ 1463500117511, 4 ], [ 1463500118511, 4 ],
				[ 1463500119511, 7 ], [ 1463500120511, 1 ],
				[ 1463500121511, 10 ], [ 1463500122511, 8 ],
				[ 1463500123511, 10 ], [ 1463500124511, 4 ],
				[ 1463500125511, 6 ], [ 1463500126511, 10 ],
				[ 1463500127511, 2 ], [ 1463500128511, 6 ],
				[ 1463500129511, 2 ], [ 1463500130511, 9 ],
				[ 1463500131511, 5 ], [ 1463500132511, 9 ],
				[ 1463500133511, 6 ], [ 1463500134511, 10 ],
				[ 1463500135511, 8 ], [ 1463500136511, 2 ],
				[ 1463500137511, 7 ], [ 1463500138511, 6 ],
				[ 1463500139511, 10 ], [ 1463500140511, 3 ],
				[ 1463500141511, 6 ], [ 1463500142511, 9 ],
				[ 1463500143511, 5 ], [ 1463500144511, 7 ],
				[ 1463500145511, 10 ], [ 1463500146511, 3 ],
				[ 1463500147511, 7 ], [ 1463500148511, 9 ],
				[ 1463500149511, 2 ], [ 1463500150511, 9 ],
				[ 1463500151511, 2 ], [ 1463500152511, 2 ],
				[ 1463500153511, 2 ], [ 1463500154511, 10 ],
				[ 1463500155511, 2 ], [ 1463500156511, 9 ],
				[ 1463500157511, 3 ], [ 1463500158511, 10 ],
				[ 1463500159511, 2 ], [ 1463500160511, 7 ],
				[ 1463500161511, 5 ], [ 1463500162511, 6 ],
				[ 1463500163511, 2 ], [ 1463500164511, 8 ],
				[ 1463500165511, 3 ], [ 1463500166511, 3 ],
				[ 1463500167511, 2 ], [ 1463500168511, 8 ],
				[ 1463500169511, 9 ], [ 1463500170511, 9 ],
				[ 1463500171511, 2 ], [ 1463500172511, 8 ],
				[ 1463500173511, 8 ], [ 1463500174511, 7 ],
				[ 1463500175511, 8 ], [ 1463500176511, 2 ],
				[ 1463500177511, 7 ], [ 1463500178511, 2 ],
				[ 1463500179511, 10 ], [ 1463500180511, 6 ],
				[ 1463500181511, 9 ], [ 1463500182511, 10 ],
				[ 1463500183511, 2 ], [ 1463500184511, 5 ],
				[ 1463500185511, 7 ], [ 1463500186511, 3 ],
				[ 1463500187511, 8 ], [ 1463500188511, 3 ],
				[ 1463500189511, 7 ], [ 1463500190511, 9 ],
				[ 1463500191511, 8 ], [ 1463500192511, 7 ],
				[ 1463500193511, 5 ], [ 1463500194511, 6 ],
				[ 1463500195511, 6 ], [ 1463500196511, 7 ],
				[ 1463500197511, 7 ], [ 1463500198511, 6 ],
				[ 1463500199511, 3 ], [ 1463500200511, 4 ],
				[ 1463500201511, 7 ], [ 1463500202511, 2 ],
				[ 1463500203511, 7 ], [ 1463500204511, 4 ],
				[ 1463500205511, 7 ], [ 1463500206511, 10 ],
				[ 1463500207511, 2 ], [ 1463500208511, 3 ],
				[ 1463500209511, 4 ], [ 1463500210511, 4 ],
				[ 1463500211511, 9 ], [ 1463500212511, 5 ],
				[ 1463500213511, 2 ], [ 1463500214511, 1 ],
				[ 1463500215511, 8 ], [ 1463500216511, 8 ],
				[ 1463500217511, 2 ], [ 1463500218511, 3 ],
				[ 1463500219511, 10 ], [ 1463500220511, 4 ],
				[ 1463500221511, 3 ], [ 1463500222511, 6 ],
				[ 1463500223511, 8 ], [ 1463500224511, 10 ],
				[ 1463500225511, 7 ], [ 1463500226511, 8 ],
				[ 1463500227511, 1 ], [ 1463500228511, 7 ],
				[ 1463500229511, 1 ], [ 1463500230511, 4 ],
				[ 1463500231511, 5 ], [ 1463500232511, 7 ],
				[ 1463500233511, 9 ], [ 1463500234511, 8 ],
				[ 1463500235511, 6 ], [ 1463500236511, 9 ],
				[ 1463500237511, 4 ], [ 1463500238511, 9 ],
				[ 1463500239511, 8 ], [ 1463500240511, 5 ],
				[ 1463500241511, 6 ], [ 1463500242511, 7 ],
				[ 1463500243511, 1 ], [ 1463500244511, 9 ],
				[ 1463500245511, 10 ], [ 1463500246511, 1 ],
				[ 1463500247511, 6 ], [ 1463500248511, 7 ],
				[ 1463500249511, 3 ], [ 1463500250511, 8 ],
				[ 1463500251511, 2 ], [ 1463500252511, 1 ],
				[ 1463500253511, 10 ], [ 1463500254511, 5 ],
				[ 1463500255511, 4 ], [ 1463500256511, 4 ],
				[ 1463500257511, 1 ], [ 1463500258511, 2 ],
				[ 1463500259511, 3 ], [ 1463500260511, 6 ],
				[ 1463500261511, 10 ], [ 1463500262511, 1 ],
				[ 1463500263511, 4 ], [ 1463500264511, 8 ],
				[ 1463500265511, 10 ], [ 1463500266511, 7 ],
				[ 1463500267511, 7 ], [ 1463500268511, 6 ],
				[ 1463500269511, 5 ], [ 1463500270511, 9 ],
				[ 1463500271511, 6 ], [ 1463500272511, 10 ],
				[ 1463500273511, 4 ], [ 1463500274511, 1 ],
				[ 1463500275511, 2 ], [ 1463500276511, 7 ],
				[ 1463500277511, 8 ], [ 1463500278511, 1 ],
				[ 1463500279511, 9 ], [ 1463500280511, 8 ],
				[ 1463500281511, 1 ], [ 1463500282511, 6 ],
				[ 1463500283511, 1 ], [ 1463500284511, 1 ],
				[ 1463500285511, 7 ], [ 1463500286511, 7 ],
				[ 1463500287511, 4 ], [ 1463500288511, 8 ],
				[ 1463500289511, 8 ], [ 1463500290511, 6 ],
				[ 1463500291511, 1 ], [ 1463500292511, 10 ],
				[ 1463500293511, 2 ], [ 1463500294511, 1 ],
				[ 1463500295511, 9 ], [ 1463500296511, 1 ],
				[ 1463500297511, 8 ], [ 1463500298511, 8 ],
				[ 1463500299511, 8 ], [ 1463500300511, 7 ],
				[ 1463500301511, 2 ], [ 1463500302511, 8 ],
				[ 1463500303511, 3 ], [ 1463500304511, 9 ],
				[ 1463500305511, 7 ], [ 1463500306511, 5 ],
				[ 1463500307511, 6 ], [ 1463500308511, 2 ],
				[ 1463500309511, 2 ], [ 1463500310511, 9 ],
				[ 1463500311511, 3 ], [ 1463500312511, 10 ],
				[ 1463500313511, 10 ], [ 1463500314511, 5 ],
				[ 1463500315511, 4 ], [ 1463500316511, 4 ],
				[ 1463500317511, 6 ], [ 1463500318511, 6 ],
				[ 1463500319511, 3 ], [ 1463500320511, 9 ],
				[ 1463500321511, 9 ], [ 1463500322511, 6 ],
				[ 1463500323511, 9 ], [ 1463500324511, 2 ],
				[ 1463500325511, 2 ], [ 1463500326511, 9 ],
				[ 1463500327511, 12 ] ];

		var currentTime = new Date(1463499327511).getTime();

		var newMax = function() {
			return Math.max.apply(Math, sampleData.map(function(o) {
				return o[1];
			}))
		}

		var timeshiftChartDiv = $wnd.jQuery("#timeshiftChartDiv");

		//$doc.getElementById('timeshiftChartDiv').style.height = '100px';
		//$doc.getElementById('timeshiftChartDiv').style.width = '500px';

		var dataSet = [ {
			data : sampleData,
			label : "Fabian",
			color : '#058DC7'
		} ];

		var options = {
			series : {
				lines : {
					show : true,
					fill : true,
					fillColor : "rgba(86, 137, 191, 0.8)"
				},
				points : {
					show : true,
					radius : 2
				},
				downsample : {
					threshold : 0
				// 0 disables downsampling for this series.
				},
				shadowSize : 0
			},
			legend : {
				show : false
			},
			grid : {
				hoverable : true,
				clickable : true
			},
			xaxis : {
				min : currentTime,
				max : currentTime + 9000,
				zoomRange : [ 9000, null ],
				// zoomrange und max brauchen gleichen Wert, z.B. 9000
				panRange : [ currentTime, 1463500327511 ],
				mode : "time",
				timezone : "browser",
				minTickSize : [ 2, "minute" ]
			},
			yaxis : {
				tickSize : 2,
				tickDecimals : 0,
				zoomRange : [ 10, 10 ],
				panRange : [ 0, newMax() + 2 ]
			// panRange muss immer auf das Minimum und Maximum unserer Daten gesetzt werden
			},
			zoom : {
				interactive : true
			},
			pan : {
				interactive : true
			}
		};

		var plot = $wnd.$.plot(timeshiftChartDiv, dataSet, options);

		function addTooltipDiv() {
			$wnd.jQuery("<div id='timeshiftTooltip'></div>").css({
				position : "absolute",
				display : "none",
				border : "1px solid #fdd",
				padding : "2px",
				"background-color" : "#fee",
				opacity : 0.80
			}).appendTo("#timeshiftChartDiv");
		}

		addTooltipDiv();

		$wnd.jQuery("#timeshiftChartDiv").bind("dblclick", onDblclick);
		$wnd.jQuery("#timeshiftChartDiv").bind("plotzoom", onZoom);
		$wnd.jQuery("#timeshiftChartDiv").bind("plothover", onHover);
		$wnd.jQuery("#timeshiftChartDiv").bind("plotclick", onPointSelection);

		function onPointSelection(event, pos, item) {
			if (item) {
				console.log(item);
			}
		}

		function onDblclick() {
			options.xaxis.min = sampleData[0][0];
			options.xaxis.max = sampleData[sampleData.length - 1][0];
			plot = $wnd.$.plot(timeshiftChartDiv, dataSet, options);
			addTooltipDiv();
		}

		function onHover(event, pos, item) {
			if (item) {
				var x = item.datapoint[0];
				var y = item.datapoint[1];
				// view-div offset
				var offset = $wnd.jQuery("#view").offset().top;
				// timechart-div offset
				offset += $wnd.jQuery("#timeshiftChartDiv").position().top;
				showTooltip(item.pageX + 15, (item.pageY - offset),
						"Method Calls: " + y);
			} else {
				$wnd.jQuery("#timeshiftTooltip").hide();
			}
		}

		function onZoom() {
			console.log("zooming");
		}

		function showTooltip(x, y, contents) {

			$wnd.jQuery("#timeshiftTooltip").html(contents).css({
				top : y,
				left : x
			}).fadeIn(200);
		}

		var cnt = 0;

		function update() {

			options.xaxis.min = sampleData[cnt][0];
			//options.xaxis.max = sampleData[sampleData.length - 1][0];
			options.xaxis.max = sampleData[cnt + 30][0];
			cnt += 31;
			plot = $wnd.$.plot(timeshiftChartDiv, dataSet, options);
			setTimeout(update, 2000);
		}

		//update();

		//		$wnd.jQuery(this).updateTimeshiftChart([ {
		//			key : "Timeseries",
		//			values : [],
		//			color : "#366eff",
		//			area : true
		//		} ]);
	}-*/;

	public static void updateTimeshiftChart(final Map<Long, Long> data) {
		final JavaScriptObject jsObj = convertToJSHashMap(data);

		nativeUpdateTimeshiftChart(jsObj);
	}

	private static JavaScriptObject convertToJSHashMap(final Map<Long, Long> data) {

		final JSONObject obj = new JSONObject();
		for (final Entry<Long, Long> entry : data.entrySet()) {
			obj.put(entry.getKey().toString(), new JSONString(entry.getValue().toString()));
		}

		final JavaScriptObject jsObj = obj.getJavaScriptObject();
		return jsObj;
	}

	public static native void nativeUpdateTimeshiftChart(JavaScriptObject jsObj) /*-{
		var keys = Object.keys(jsObj);

		var series1 = [];
		keys.forEach(function(entry) {
			series1.push({
				x : Number(entry),
				y : Number(jsObj[entry])
			});
		})

		//		$wnd.jQuery(this).updatettimeline([ {
		//			key : "Timeseries",
		//			values : series1,
		//			color : "#366eff",
		//			area : true
		//		} ]);

		//				$wnd.jQuery(this).updateTimeshiftChart([ {
		//					key : "Timeseries",
		//					values : series1,
		//					color : "#366eff",
		//					area : true
		//				} ]);
	}-*/;
}
